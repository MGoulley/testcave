{% extends "layouts/base-site.html" %}

{% block title %} INDEX - Parcelles {% endblock %}

{% block content %}

<form method="POST" class="post-form" action="create">
        {% csrf_token %}
    <div class="container">
<div class="row">
  <div class="col-sm-8">
    <div class="card">
      <div class="card-header">Creation d'une nouvelle parcelle</div>
      <div class="card-body">
          <div class="form-group">
            <div class="input-group">
              <div class="input-group-prepend"><span class="input-group-text">Numéro d'ilot :</span></div>
              {{ form.numIlot }}
            </div>
          </div>
          <div class="form-group">
            <div class="input-group">
              <div class="input-group-prepend"><span class="input-group-text">Nom de parcelle :</span></div>
              {{ form.nomParcelle }}
            </div>
          </div>
          <div class="form-group">
            <div class="input-group">
              <div class="input-group-prepend"><span class="input-group-text">Appellation :</span></div>
              {{ form.appellation }}
            </div>
          </div>
          <div class="form-group">
            <div class="input-group">
              <div class="input-group-prepend"><span class="input-group-text">Commune :</span></div>
              {{ form.commune }}
            </div>
          </div>
          <div class="form-group">
            <div class="input-group">
              <div class="input-group-prepend"><span class="input-group-text">Ref Cadastre :</span></div>
              {{ form.refCadastre }}
            </div>
          </div>
          <div class="form-group">
            <div class="input-group">
              <div class="input-group-prepend"><span class="input-group-text">Annee de Plantation :</span></div>
              {{ form.anneesPlantation }}
            </div>
          </div>
          <div class="form-group">
            <div class="input-group">
              <div class="input-group-prepend"><span class="input-group-text">Date BIO :</span></div>
              {{ form.datebio }}
            </div>
          </div>

          
          <div class="form-group form-actions">
            <button class="btn btn-sm btn-primary" type="submit">Envoyer</button>
          </div>
          
      </div>
    </div>
  </div>

  <div class="col-sm-4" id="duplicater">
    <div class="card">
      <div class="card-header">Proprietaire</div>
      <div class="card-body">
        <div class="form-group">
          <div class="input-group">
            <div class="input-group-prepend"><span class="input-group-text">Domaine :</span></div>
            <select name="domaine" class="form-control" id="domaine">
              {% for domaine in domaines %}
                <option value="{{domaine.id}}">{{domaine.nom}}</option>
              {% endfor %}
            </select>
          </div>
        </div>
        <div class="form-group">
          <div class="input-group">
            <div class="input-group-prepend"><span class="input-group-text">Proprietaire :</span></div>
            {{ form.proprietaire }}
          </div>
        </div>
        <div class="form-group">
          <div class="input-group">
            <div class="input-group-prepend"><span class="input-group-text">Surface :</span></div>
            {{ form.surface }}
          </div>
        </div>
          <div class="form-group form-actions">
            <button class="btn btn-sm btn-danger">Remove</button>
          </div>
      </div>
    </div>
    <div class="card" id="card-button">
      <div class="card-body">
        <button class="btn btn-outline-success btn-lg btn-block" onclick="duplicate()" type="button">+ Ajouter un nouveau propriétaire</button>
      </div>
    </div>
  </div>



</div>

<!-- <div class="row">
  <div class="col-sm-8">
    <div class="card">
      <div class="card-header"> Détails des domaines</div>
      <div class="card-body">
        <div class="row">
          <div class="col-4">
            <div class="list-group" id="list-tab" role="tablist">
              <a class="list-group-item list-group-item-action active" id="list-home-list" data-toggle="tab" href="#list-home" role="tab" aria-controls="list-home" aria-selected="true">Proprietaire 1</a>
              <a class="list-group-item list-group-item-action" id="list-profile-list" data-toggle="tab" href="#list-profile" role="tab" aria-controls="list-profile" aria-selected="false"><button class="btn btn-sm btn-primary" id="button" onclick="duplicate()">+</button></a>
          </div>
          <div class="col-8">
            <div class="tab-content" id="nav-tabContent">
              <div class="tab-pane fade" id="list-home" role="tabpanel" aria-labelledby="list-home-list">



                <div class="form-group">
                  <div class="input-group">
                    <div class="input-group-prepend"><span class="input-group-text">Domaine :</span></div>
                    <select name="domaine" class="form-control" id="domaine">
                      {% for domaine in domaines %}
                        <option value="{{domaine.id}}">{{domaine.nom}}</option>
                      {% endfor %}
                    </select>
                  </div>
                </div>
                <div class="form-group">
                  <div class="input-group">
                    <div class="input-group-prepend"><span class="input-group-text">Proprietaire :</span></div>
                    {{ form.proprietaire }}
                  </div>
                </div>
                <div class="form-group">
                  <div class="input-group">
                    <div class="input-group-prepend"><span class="input-group-text">Surface :</span></div>
                    {{ form.surface }}
                  </div>
                </div>



              </div>
              <div class="tab-pane fade active show" id="list-profile" role="tabpanel" aria-labelledby="list-profile-list"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div> -->
</div>
</form>

{% endblock content %}

{% block javascripts %}
<!-- Specific Page JS goes HERE  -->
<script>
var i = 1;
var original = document.getElementById('duplicater');

function duplicate() {
  var d1 = document.getElementById('card-button');
  var clone = original.cloneNode(true);
  clone.id = "duplicater" + ++i;
  d1.insertAdjacentHTML('beforebegin', clone.innerHTML);
  /* newlink = document.createElement('a');
  newlink.setAttribute('class', 'list-group-item list-group-item-action');
  newlink.setAttribute('id', 'list-domaine-' + i);
  newlink.setAttribute('data-toggle', 'tab');
  newlink.setAttribute('href', '#list-domaine' + i);
  newlink.setAttribute('role', 'tab');
  newlink.setAttribute('aria-controls', 'list-domaine');
  newlink.setAttribute('aria-selected', 'false');
  newlink.textContent = "Proprietaire " + i;
  original.appendChild(newlink); */
    /* var clone = original.cloneNode(true); // "deep" clone
    clone.id = "duplicater" + ++i;
    // or clone.id = ""; if the divs don't need an ID
    original.parentNode.appendChild(clone); */
}
</script>
{% endblock javascripts %}
